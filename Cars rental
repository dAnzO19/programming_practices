#include <stdlib.h>
#include <stdio.h>
#include <locale.h>
#include <string.h>

struct Car

{
    char make[20];
    char model[20];
    int year;
    float rentalRate;
    int rented;
    char address[50];
};

int main()
{
    system("color A");
    setlocale(LC_ALL, "ukrainian");
    struct Car cars[3];

    // Додаткові дані про оренду автомобілів
    strcpy(cars[0].make, "1. Toyota");
    strcpy(cars[0].model, "Corolla");
    cars[0].year = 2020;
    cars[0].rentalRate = 50.0;
    cars[0].rented = 0; // не орендована

    strcpy(cars[1].make, "2. Honda");
    strcpy(cars[1].model, "Accord");
    cars[1].year = 2019;
    cars[1].rentalRate = 60.0;
    cars[1].rented = 0; // не орендована

    strcpy(cars[2].make, "3. Ford");
    strcpy(cars[2].model, "        Mustang");
    cars[2].year = 2021;
    cars[2].rentalRate = 70.0;
    cars[2].rented =  0; // не орендована

    int menu;
    while(1)
    {
        printf("                                   Меню\n");
        printf("                                  1. Список\n");
        printf("                                  2. Взяти у оренду\n");
        printf("                                  3. Вихід\n");

        printf("Select: ");
        scanf("%d", &menu);
        if(menu == 1)
        {
            printf("Марка\t\tМодель\t\tРік випуску\tОрендна ставка (на день)\tСтан \n");
            printf("------------------------------------------------------------------------------\n");
            for (int i = 0; i < 3; i++)
            {
                printf("%s\t\t%s\t\t%d\t\t%.2f\t\t", cars[i].make, cars[i].model, cars[i].year, cars[i].rentalRate);
                if(cars[i].rented == 0)
                {
                    printf("Доступна\n");
                }
                else
                {
                    printf("Орендована, адрес доставки: %s\n", cars[i].address);
                }
            }
            system("pause");
            system("cls");
            menu = 0;
            continue;
        }
        if(menu == 2)
        {
            system("cls");
            int carId;
            printf(" ID авто (1-3): ");
            scanf("%d", &carId);
            if(cars[carId-1].rented == 0)
            {
                cars[carId-1].rented = 1;
                printf("Ви орендували машину!\n");
                printf("Адреса доставки: ");
                fflush(stdin);
                fgets(cars[carId-1].address, 50, stdin);
            }
            else
            {
                printf("Ця машина вже орендована.\n");
                fflush(stdin);
            }
            system("pause");
            system("cls");
        }
        if(menu == 3) return 0;
    }

    return 0;
}
